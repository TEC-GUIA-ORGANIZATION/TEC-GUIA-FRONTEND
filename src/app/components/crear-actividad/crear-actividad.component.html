<app-navbar></app-navbar>

<div class="container mt-5 card p-3">
  <form>
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label for="name"><h2>Nombre:</h2></label>
          <input type="text" class="form-control" [(ngModel)]="nombre" placeholder="Nombre de la actividad" name="nombre" required>
        </div>

        <div class="form-group">
          <label for="state"><h2>Estado:</h2></label>
          <select class="form-control" [(ngModel)]="estado" name="estado" required>
            <option *ngFor="let estado of estados" [value]="estado">{{estado}}</option>
          </select>
        </div>

        <div class="form-group">
          <label for="date"><h2>Fecha:</h2></label>
          <input type="date" id="date" class="form-control" [(ngModel)]="fecha" name="fecha" required>
        </div>

        <div class="form-group">
          <label for="time"><h2>Hora:</h2></label>
          <input type="time" id="time" class="form-control" [(ngModel)]="hora" name="hora" required>
        </div>

        <div class="form-group">
          <label for="type"><h2>Tipo:</h2></label>
          <select class="form-control" [(ngModel)]="tipo" name="tipo" required>
            <option *ngFor="let tipo of tipos" [value]="tipo">{{tipo}}</option>
          </select>
        </div>

        <div class="form-group">
          <label for="responsibles"><h2>Responsable:</h2></label>
          <select class="form-control" [(ngModel)]="responsable" name="responsable" required>
            <option *ngFor="let responsable of responsables" [value]="responsable.id">{{responsable.obtenerNombreCompleto()}}</option>
          </select>
        </div>
      </div>

      <div class="col-md-6">
        <div class="form-group">
          <label for="week"><h2>Semana:</h2></label>
          <input type="number" id="week" class="form-control" [(ngModel)]="semana" name="semana" required>
        </div>

        <div class="form-group">
          <label for="diasPreviosAnunciar"><h2>Días para anunciar:</h2></label>
          <input type="number" id="diasPreviosAnunciar" class="form-control" [(ngModel)]="diasPreviosAnunciar" name="diasPreviosAnunciar" required>
        </div>

        <div class="form-group">
          <label for="diasRequeridosRecordatorio"><h2>Días para recordatorios:</h2></label>
          <input type="number" id="diasRequeridosRecordatorio" class="form-control" [(ngModel)]="diasRequeridosRecordatorio" name="diasRequeridosRecordatorio" required>
        </div>

        <div class="form-group">
          <label for="modality"><h2>Modalidad:</h2></label>
          <select class="form-control" [(ngModel)]="modalidad" name="modalidad" required>
            <option *ngFor="let modalidad of modalidades" [value]="modalidad">{{modalidad}}</option>
          </select>
        </div>

        <div class="form-group" *ngIf="modalidad === 'REMOTA'">
          <label for="place"><h2>Enlace:</h2></label>
          <input type="text" id="place" class="form-control" [(ngModel)]="lugarEnlace" placeholder="Enlace de la actividad" name="lugarEnlace" required>
        </div>

        <div class="form-group" *ngIf="modalidad === 'PRESENCIAL'">
          <label for="place"><h2>Lugar:</h2></label>
          <input type="text" id="place" class="form-control" [(ngModel)]="lugarEnlace" placeholder="Lugar de la actividad" name="lugarEnlace" required>
        </div>

        <div class="form-group">
          <label for="poster"><h2>Imagen:</h2></label>
          <input type="file" id="poster" class="form-control" (change)="onFileSelected($event)" name="poster" required>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="description"><h2>Descripción:</h2></label>
      <textarea class="form-control" [(ngModel)]="descripcion" rows="5" placeholder="Descripción de la actividad" name="descripcion" required></textarea>
    </div>

    <!-- Info message -->
    <div class="alert alert-danger" role="alert" *ngIf="error">
      <p>{{error}}</p>
    </div>
    <div class="alert alert-info" role="alert" *ngIf="info">
      <p>{{info}}</p>
    </div>

    <button type="button" class="btn btn-secondary btn-custom" (click)="goBack()">Volver a Actividades</button>
    <button type="submit" class="btn btn-success btn-custom" (click)="save()">Crear Actividad</button>
  </form>
</div>
